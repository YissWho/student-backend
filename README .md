# 应届生去向管理系统后端文档

## 技术栈

### 核心框架
- Python 3.8+
- Django 5.1.3
- Django REST Framework 3.15.2
- Django Simple JWT 5.3.1
- Django Redis 5.4.0

### 数据库
- SQLite 3

### 缓存
- Redis 5.0.1

### API文档
- drf-yasg 1.21.8 (Swagger/OpenAPI)

### 其他依赖
- Pillow 11.0.0 (图片处理)
- captcha 0.5.0 (验证码生成)
- requests 2.32.3 (HTTP客户端)

## 系统架构

### 整体架构
- 采用前后端分离架构
- RESTful API设计
- JWT认证机制
- Redis缓存层
- 文件存储系统

### 目录结构
```
app/
├── models/             # 数据模型
├── views/             # 视图函数
│   ├── stu/          # 学生相关视图
│   ├── teacher/      # 教师相关视图
│   └── all/          # 公共视图
├── serializers/       # 序列化器
├── utils/            # 工具类
├── urls.py           # URL配置
└── apps.py           # 应用配置
```

## 核心功能模块

### 1. 用户认证模块
- JWT Token认证
- 验证码登录
- 密码加密存储
- 用户角色权限控制

### 2. 应届生管理模块
- 学生信息CRUD
- 班级管理
- 学生统计
- 批量导入导出

### 3. 问卷调查模块
- 问卷创建和管理
- 答卷提交和统计
- 条件性问题
- 数据分析

### 4. 通知公告模块
- 通知发布
- 阅读状态追踪
- 消息提醒

### 5. AI咨询模块
- 文心一言API集成
- 智能问答
- 就业建议
- 升学指导

### 6. 数据统计模块
- 就业数据统计
- 地区分布分析
- 可视化图表

## API接口规范

### 请求格式
```http
POST /api/endpoint/
Content-Type: application/json
Authorization: Bearer <token>

{
    "key": "value"
}
```

### 响应格式
```json
{
    "status": "success",
    "code": 200,
    "message": "操作成功",
    "data": {
        // 响应数据
    }
}
```

### 错误处理
```json
{
    "status": "false",
    "code": 400,
    "message": "错误信息"
}
```

## 安全机制

### 1. 身份认证
- JWT Token认证
- Token过期机制
- 刷新Token

### 2. 数据安全
- 密码加密存储
- 验证码机制
- XSS防护
- CORS配置

### 3. 访问控制
- 基于角色的权限控制
- API访问限制
- 敏感数据过滤

## 缓存策略

### Redis缓存
- 验证码缓存
- 用户信息缓存
- 接口数据缓存

## 开发规范

### 1. 代码规范
- PEP 8 Python代码规范
- RESTful API设计规范
- 统一的响应格式

### 2. 命名规范
- 类名：大驼峰命名
- 函数名：小写下划线
- 变量名：小写下划线
- 常量名：大写下划线

### 3. 注释规范
- 类注释：描述类的功能和用途
- 函数注释：描述参数和返回值
- 关键代码注释：解释复杂逻辑

## 部署要求

### 环境要求
- Python 3.8+
- Redis 6.0+
- SQLite 3

### 配置说明
1. 数据库配置
2. Redis配置
3. 文心一言API配置
4. 跨域配置
5. 媒体文件配置

## 性能优化

### 1. 数据库优化
- 合理的索引设计
- 查询语句优化
- 分页加载

### 2. 缓存优化
- 合理的缓存策略
- 缓存失效机制
- 缓存预热

### 3. 接口优化
- 数据序列化优化
- 异步处理
- 批量操作